{"version":3,"sources":["src/app/camera/camera.page.html","src/app/camera/photo-displayer/photo-displayer.component.html","src/app/camera/camera.module.ts","src/app/camera/camera.page.scss","src/app/camera/camera.page.ts","src/app/camera/photo-displayer/photo-displayer.component.ts","src/app/services/photo.service.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n\\t<ion-toolbar>\\n\\t\\t<ion-title>\\n\\t\\t\\tPhoto Gallery\\n\\t\\t</ion-title>\\n\\t</ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\t<ion-header collapse=\\\"condense\\\">\\n\\t\\t<ion-toolbar>\\n\\t\\t\\t<ion-title size=\\\"large\\\">Photo Gallery</ion-title>\\n\\t\\t</ion-toolbar>\\n\\t</ion-header>\\n\\n\\t<ion-grid>\\n\\t\\t<ion-row>\\n\\t\\t\\t<ion-col size=\\\"3\\\" *ngFor=\\\"let photo of photoService.photos; index as position\\\">\\n\\t\\t\\t\\t<ion-img\\n\\t\\t\\t\\t\\tsrc=\\\"{{ photo.base64 ? photo.base64 : photo.webviewPath }}\\\"\\n\\t\\t\\t\\t\\t(click)=\\\"presentModal(position)\\\"\\n\\t\\t\\t\\t></ion-img>\\n\\t\\t\\t</ion-col>\\n\\t\\t</ion-row>\\n\\t</ion-grid>\\n\\n\\t<ion-slides pager=\\\"true\\\" [options]=\\\"slideOpts\\\">\\n\\t\\t<ion-slide *ngFor=\\\"let photo of photoService.photos; index as position\\\">\\n\\t\\t\\t<ion-img src=\\\"{{ photo.base64 ? photo.base64 : photo.webviewPath }}\\\"></ion-img>\\n\\t\\t</ion-slide>\\n\\t</ion-slides>\\n\\n\\t<ion-fab vertical=\\\"bottom\\\" horizontal=\\\"center\\\" slot=\\\"fixed\\\">\\n\\t\\t<ion-fab-button (click)=\\\"photoService.addNewToGallery()\\\">\\n\\t\\t\\t<ion-icon name=\\\"camera\\\"></ion-icon>\\n\\t\\t</ion-fab-button>\\n\\t</ion-fab>\\n</ion-content>\\n<!-- \\n(click)=\\\"showActionSheet(photo, position)\\\"\\n -->\\n\"","export default \"<ion-slides pager=\\\"true\\\" [options]=\\\"slideOpts\\\">\\n\\t<ion-slide *ngIf=\\\"photoService.photos[0] as photo\\\">\\n\\t\\t<ion-img src=\\\"{{ photo.base64 ? photo.base64 : photo.webviewPath }}\\\"></ion-img>\\n\\t</ion-slide>\\n\\t<ion-slide *ngIf=\\\"photoService.photos[1] as photo\\\">\\n\\t\\t<ion-img src=\\\"{{ photo.base64 ? photo.base64 : photo.webviewPath }}\\\"></ion-img>\\n\\t</ion-slide>\\n\\t<ion-slide *ngIf=\\\"photoService.photos[2] as photo\\\">\\n\\t\\t<ion-img src=\\\"{{ photo.base64 ? photo.base64 : photo.webviewPath }}\\\"></ion-img>\\n\\t</ion-slide>\\n</ion-slides>\\n\\n<!-- \\n\\t<ion-slides pager=\\\"true\\\" [options]=\\\"slideOpts\\\">\\n\\t<ion-slide *ngFor=\\\"let photo of photoService.photos; index as position\\\">\\n\\t\\t<ion-img src=\\\"{{ photo.base64 ? photo.base64 : photo.webviewPath }}\\\"></ion-img>\\n\\t</ion-slide>\\n</ion-slides>\\n\\n -->\\n\"","import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { RouterModule } from '@angular/router'\nimport { IonicModule } from '@ionic/angular'\n\nimport { CameraPage } from './camera.page'\nimport { PhotoDisplayerComponent } from './photo-displayer/photo-displayer.component'\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tIonicModule,\n\t\tRouterModule.forChild([{ path: '', component: CameraPage }])\n\t],\n\tdeclarations: [CameraPage, PhotoDisplayerComponent],\n\tentryComponents: [PhotoDisplayerComponent]\n})\nexport class CameraPageModule {}\n","export default \".camera-footer {\\n  --background: pink !important;\\n  background: pink !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2FtZXJhL0M6XFxQcm9qZWN0c1xccHdhLWVsZW1lbnRzL3NyY1xcYXBwXFxjYW1lcmFcXGNhbWVyYS5wYWdlLnNjc3MiLCJzcmMvYXBwL2NhbWVyYS9jYW1lcmEucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0MsNkJBQUE7RUFDQSwyQkFBQTtBQ0NEIiwiZmlsZSI6InNyYy9hcHAvY2FtZXJhL2NhbWVyYS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FtZXJhLWZvb3RlciB7XHJcblx0LS1iYWNrZ3JvdW5kOiBwaW5rICFpbXBvcnRhbnQ7XHJcblx0YmFja2dyb3VuZDogcGluayAhaW1wb3J0YW50O1xyXG59XHJcbiIsIi5jYW1lcmEtZm9vdGVyIHtcbiAgLS1iYWNrZ3JvdW5kOiBwaW5rICFpbXBvcnRhbnQ7XG4gIGJhY2tncm91bmQ6IHBpbmsgIWltcG9ydGFudDtcbn0iXX0= */\"","import { Component } from '@angular/core'\nimport { ActionSheetController, ModalController } from '@ionic/angular'\n\nimport { PhotoService } from '../services/photo.service'\nimport { PhotoDisplayerComponent } from './photo-displayer/photo-displayer.component'\n\n@Component({\n\tselector: 'app-camera',\n\ttemplateUrl: 'camera.page.html',\n\tstyleUrls: ['camera.page.scss']\n})\nexport class CameraPage {\n\tstoredPhotos\n\n\tslideOpts = {\n\t\tspeed: 400,\n\t\tinitialSlide: 0\n\t}\n\n\tstoredPhotos$ = this.photoService.storedPhotos$\n\n\tconstructor(\n\t\tpublic photoService: PhotoService,\n\t\tpublic actionSheetController: ActionSheetController,\n\t\tpublic modalController: ModalController\n\t) {}\n\n\tngOnInit() {\n\t\tthis.photoService.storedPhotos$.subscribe(\n\t\t\tstoredPhotos => (this.storedPhotos = storedPhotos)\n\t\t)\n\t}\n\n\tasync showActionSheet(photo, position) {\n\t\tconst actionSheet = await this.actionSheetController.create({\n\t\t\theader: 'Photos',\n\t\t\tbuttons: [\n\t\t\t\t{\n\t\t\t\t\ttext: 'Delete',\n\t\t\t\t\trole: 'destructive',\n\t\t\t\t\ticon: 'trash',\n\t\t\t\t\thandler: () => {\n\t\t\t\t\t\tthis.photoService.deletePicture(photo, position)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttext: 'Cancel',\n\t\t\t\t\ticon: 'close',\n\t\t\t\t\trole: 'cancel',\n\t\t\t\t\thandler: () => {\n\t\t\t\t\t\t// Nothing to do, action sheet is automatically closed\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t})\n\t\tawait actionSheet.present()\n\t}\n\n\tasync presentModal(position: number) {\n\t\tconst modal = await this.modalController.create({\n\t\t\tcomponent: PhotoDisplayerComponent,\n\t\t\tcomponentProps: { position }\n\t\t})\n\t\treturn await modal.present()\n\t}\n}\n","import { Component, Input } from '@angular/core'\nimport { PhotoService } from 'src/app/services/photo.service'\n\n@Component({\n\tselector: 'app-photo-displayer',\n\ttemplateUrl: 'photo-displayer.component.html'\n})\nexport class PhotoDisplayerComponent {\n\tprivate _position: number\n\n\t// Optional parameters to pass to the swiper instance. See http://idangero.us/swiper/api/ for valid options.\n\tslideOpts = {\n\t\tspeed: 400,\n\t\tinitialSlide: 0\n\t}\n\n\t@Input() set position(value: number) {\n\t\tthis._position = value\n\t\t// this.slideOpts.initialSlide = value + 1\n\t}\n\n\tconstructor(public photoService: PhotoService) {}\n}\n","import { Injectable } from '@angular/core'\r\nimport {\r\n    Camera,\r\n    CameraPhoto,\r\n    CameraResultType,\r\n    CameraSource,\r\n    Capacitor,\r\n    Filesystem,\r\n    FilesystemDirectory,\r\n    Storage,\r\n} from '@capacitor/core'\r\nimport { Platform } from '@ionic/angular'\r\nimport { bindCallback, forkJoin, from, Observable, of } from 'rxjs'\r\nimport { map, mergeMap } from 'rxjs/operators'\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class PhotoService {\r\n\tprivate isDeviceHybrid: boolean\r\n\tpublic photos = []\r\n\tprivate PHOTO_STORAGE = 'photos'\r\n\r\n\t// Retrieve cached photo array data\r\n\tstoredPhotos$ = from(Storage.get({ key: this.PHOTO_STORAGE })).pipe(\r\n\t\tmap(stored => JSON.parse(stored.value) || []),\r\n\t\tmergeMap(\r\n\t\t\t(storedPhotos: Photo[]) =>\r\n\t\t\t\tthis.isDeviceHybrid\r\n\t\t\t\t\t? of(storedPhotos) // If running on the mobile...\r\n\t\t\t\t\t: forkJoin(formatToBase64(storedPhotos)) // If running on the web...\r\n\t\t)\r\n\t)\r\n\r\n\tconstructor(private platform: Platform) {\r\n\t\tthis.isDeviceHybrid = this.platform.is('hybrid')\r\n\t\tthis.storedPhotos$.subscribe(storedPhotos => (this.photos = storedPhotos))\r\n\t}\r\n\r\n\tpublic watchStore(): Observable<any> {\r\n\t\t// formats calback fn data as an Observable\r\n\t\treturn bindCallback(Storage.get)({ key: this.PHOTO_STORAGE })\r\n\t}\r\n\r\n\tpublic async addNewToGallery() {\r\n\t\t// Take a photo\r\n\t\tconst capturedPhoto = await Camera.getPhoto({\r\n\t\t\tresultType: CameraResultType.Uri, // file-based data; provides best performance\r\n\t\t\tsource: CameraSource.Camera, // automatically take a new photo with the camera\r\n\t\t\tquality: 100 // highest quality (0 to 100)\r\n\t\t})\r\n\r\n\t\tconst savedImageFile = await this.savePicture(capturedPhoto)\r\n\r\n\t\t// Add new photo to Photos array\r\n\t\tthis.photos.unshift(savedImageFile)\r\n\r\n\t\t// Cache all photo data for future retrieval\r\n\t\tStorage.set({\r\n\t\t\tkey: this.PHOTO_STORAGE,\r\n\t\t\tvalue: this.isDeviceHybrid\r\n\t\t\t\t? JSON.stringify(this.photos)\r\n\t\t\t\t: JSON.stringify(\r\n\t\t\t\t\t\tthis.photos.map(p => {\r\n\t\t\t\t\t\t\t// Don't save the base64 representation of the photo data,\r\n\t\t\t\t\t\t\t// since it's already saved on the Filesystem\r\n\t\t\t\t\t\t\tconst photoCopy = { ...p }\r\n\t\t\t\t\t\t\tdelete photoCopy.base64\r\n\r\n\t\t\t\t\t\t\treturn photoCopy\r\n\t\t\t\t\t\t})\r\n\t\t\t\t  )\r\n\t\t})\r\n\t}\r\n\r\n\t// Save picture to file on device\r\n\tprivate async savePicture(cameraPhoto: CameraPhoto) {\r\n\t\t// Convert photo to base64 format, required by Filesystem API to save\r\n\t\tconst base64Data = await this.readAsBase64(cameraPhoto)\r\n\r\n\t\t// Write the file to the data directory\r\n\t\tconst fileName = new Date().getTime() + '.jpeg'\r\n\t\tawait Filesystem.writeFile({\r\n\t\t\tpath: fileName,\r\n\t\t\tdata: base64Data,\r\n\t\t\tdirectory: FilesystemDirectory.Data\r\n\t\t})\r\n\r\n\t\t// Get platform-specific photo filepaths\r\n\t\treturn await this.getPhotoFile(cameraPhoto, fileName)\r\n\t}\r\n\r\n\t// Read camera photo into base64 format based on the platform the app is running on\r\n\tprivate async readAsBase64(cameraPhoto: CameraPhoto) {\r\n\t\t// MOBILE: \"hybrid\" will detect Cordova or Capacitor\r\n\t\tif (this.isDeviceHybrid) {\r\n\t\t\t// Read the file into base64 format\r\n\t\t\tconst file = await Filesystem.readFile({\r\n\t\t\t\tpath: cameraPhoto.path\r\n\t\t\t})\r\n\r\n\t\t\treturn file.data\r\n\t\t}\r\n\t\t// WEB: Fetch the photo, read as a blob, then convert to base64 format\r\n\t\tconst response = await fetch(cameraPhoto.webPath ? cameraPhoto.webPath : null)\r\n\t\tconst blob = await response.blob()\r\n\r\n\t\treturn (await this.convertBlobToBase64(blob)) as string\r\n\t}\r\n\r\n\t// Retrieve the photo metadata based on the platform the app is running on\r\n\tprivate async getPhotoFile(\r\n\t\tcameraPhoto: CameraPhoto,\r\n\t\tfileName: string\r\n\t): Promise<Photo> {\r\n\t\tif (this.isDeviceHybrid) {\r\n\t\t\t// Get the new, complete filepath of the photo saved on filesystem\r\n\t\t\tconst fileUri = await Filesystem.getUri({\r\n\t\t\t\tdirectory: FilesystemDirectory.Data,\r\n\t\t\t\tpath: fileName\r\n\t\t\t})\r\n\r\n\t\t\t// Display the new image by rewriting the 'file://' path to HTTP\r\n\t\t\t// Details: https://ionicframework.com/docs/building/webview#file-protocol\r\n\t\t\treturn {\r\n\t\t\t\tfilepath: fileUri.uri,\r\n\t\t\t\twebviewPath: Capacitor.convertFileSrc(fileUri.uri)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// Use webPath to display the new image instead of base64 since it's\r\n\t\t\t// already loaded into memory\r\n\t\t\treturn {\r\n\t\t\t\tfilepath: fileName,\r\n\t\t\t\twebviewPath: cameraPhoto.webPath\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Delete picture by removing it from reference data and the filesystem\r\n\tpublic async deletePicture(photo: Photo, position: number) {\r\n\t\t// Remove this photo from the Photos reference data array\r\n\t\tthis.photos.splice(position, 1)\r\n\r\n\t\t// Update photos array cache by overwriting the existing photo array\r\n\t\tStorage.set({\r\n\t\t\tkey: this.PHOTO_STORAGE,\r\n\t\t\tvalue: JSON.stringify(this.photos)\r\n\t\t})\r\n\r\n\t\t// delete photo file from filesystem\r\n\t\tconst filename = photo.filepath.substr(photo.filepath.lastIndexOf('/') + 1)\r\n\t\tawait Filesystem.deleteFile({\r\n\t\t\tpath: filename,\r\n\t\t\tdirectory: FilesystemDirectory.Data\r\n\t\t})\r\n\t}\r\n\r\n\tconvertBlobToBase64 = (blob: Blob) =>\r\n\t\tnew Promise((resolve, reject) => {\r\n\t\t\tconst reader = new FileReader()\r\n\t\t\treader.onerror = reject\r\n\t\t\treader.onload = () => {\r\n\t\t\t\tresolve(reader.result)\r\n\t\t\t}\r\n\t\t\treader.readAsDataURL(blob)\r\n\t\t})\r\n\r\n\tasync addNewToGallery1111() {\r\n\t\t// Take a photo\r\n\t\tconst capturedPhoto = await Camera.getPhoto({\r\n\t\t\tresultType: CameraResultType.Uri, // file-based data; provides best performance\r\n\t\t\tsource: CameraSource.Camera, // automatically take a new photo with the camera\r\n\t\t\tquality: 100 // highest quality (0 to 100)\r\n\t\t})\r\n\r\n\t\tconst savedImageFile = await this.savePicture(capturedPhoto)\r\n\r\n\t\t// Add new photo to Photos array\r\n\t\tthis.photos.unshift(savedImageFile)\r\n\r\n\t\t// Cache all photo data for future retrieval\r\n\t\tStorage.set({\r\n\t\t\tkey: this.PHOTO_STORAGE,\r\n\t\t\tvalue: this.isDeviceHybrid\r\n\t\t\t\t? JSON.stringify(this.photos)\r\n\t\t\t\t: JSON.stringify(\r\n\t\t\t\t\t\tthis.photos.map(p => {\r\n\t\t\t\t\t\t\t// Don't save the base64 representation of the photo data,\r\n\t\t\t\t\t\t\t// since it's already saved on the Filesystem\r\n\t\t\t\t\t\t\tconst photoCopy = { ...p }\r\n\t\t\t\t\t\t\tdelete photoCopy.base64\r\n\r\n\t\t\t\t\t\t\treturn photoCopy\r\n\t\t\t\t\t\t})\r\n\t\t\t\t  )\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport interface Photo {\r\n\tfilepath: string\r\n\twebviewPath: string\r\n\tbase64?: string\r\n}\r\n\r\n// PURE FN: Display the photo by reading into base64 format\r\nfunction formatToBase64(storedPhotos: Photo[]) {\r\n\treturn storedPhotos.map(p =>\r\n\t\tfrom(\r\n\t\t\t// Read each saved photo's data from the Filesystem\r\n\t\t\tFilesystem.readFile({\r\n\t\t\t\tpath: p.filepath,\r\n\t\t\t\tdirectory: FilesystemDirectory.Data\r\n\t\t\t})\r\n\t\t).pipe(\r\n\t\t\tmap(readFile => ({\r\n\t\t\t\t...p,\r\n\t\t\t\t// Web platform only: Save the photo into the base64 field\r\n\t\t\t\tbase64: `data:image/jpeg;base64,${readFile.data}`\r\n\t\t\t}))\r\n\t\t)\r\n\t)\r\n}\r\n"],"sourceRoot":"webpack:///","file":"camera-camera-module-es5.js"}