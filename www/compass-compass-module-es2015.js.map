{"version":3,"sources":["./src/app/compass/compass.page.html","./src/app/compass/compass.module.ts","./src/app/compass/compass.page.scss","./src/app/compass/compass.page.ts"],"names":[],"mappings":"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","file":"compass-compass-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n\\t<ion-toolbar>\\n\\t\\t<ion-buttons slot=\\\"start\\\">\\n\\t\\t\\t<ion-menu-button (click)=\\\"openMenu()\\\"></ion-menu-button>\\n\\t\\t</ion-buttons>\\n\\t\\t<ion-title>TRACKER</ion-title>\\n\\t</ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\t<div #map id=\\\"map\\\" [hidden]=\\\"!user\\\"></div>\\n\\t<br />\\n\\t<ion-button (click)=\\\"showAlert()\\\">WHERE AM I?</ion-button>\\n\\t<br />\\n\\n\\t<div *ngIf=\\\"user\\\">\\n\\t\\t<ion-item>\\n\\t\\t\\t<ion-label>User ID: {{ user.uid }}</ion-label>\\n\\t\\t</ion-item>\\n\\n\\t\\t<ion-button expand=\\\"block\\\" (click)=\\\"startTracking()\\\" *ngIf=\\\"!isTracking\\\">\\n\\t\\t\\t<ion-icon name=\\\"locate\\\" slot=\\\"start\\\"></ion-icon>\\n\\t\\t\\tStart Tracking\\n\\t\\t</ion-button>\\n\\n\\t\\t<ion-button expand=\\\"block\\\" (click)=\\\"stopTracking()\\\" *ngIf=\\\"isTracking\\\">\\n\\t\\t\\t<ion-icon name=\\\"hand\\\" slot=\\\"start\\\"></ion-icon>\\n\\t\\t\\tStop Tracking\\n\\t\\t</ion-button>\\n\\n\\t\\t<ion-list>\\n\\t\\t\\t<ion-item-sliding *ngFor=\\\"let pos of locations | async\\\">\\n\\t\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t\\t<ion-label text-wrap>\\n\\t\\t\\t\\t\\t\\tLat: {{ pos.lat }} Lng: {{ pos.lng }}\\n\\t\\t\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\t\\t\\t{{ pos.timestamp | date:'short' }}\\n\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t</ion-item>\\n\\n\\t\\t\\t\\t<ion-item-options side=\\\"start\\\">\\n\\t\\t\\t\\t\\t<ion-item-option color=\\\"danger\\\" (click)=\\\"deleteLocation(pos)\\\">\\n\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"trash\\\" slot=\\\"icon-only\\\"></ion-icon>\\n\\t\\t\\t\\t\\t</ion-item-option>\\n\\t\\t\\t\\t</ion-item-options>\\n\\t\\t\\t</ion-item-sliding>\\n\\t\\t</ion-list>\\n\\t</div>\\n</ion-content>\\n\"","import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { RouterModule } from '@angular/router'\nimport { IonicModule } from '@ionic/angular'\n\nimport { CompassPage } from './compass.page'\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tIonicModule,\n\t\tRouterModule.forChild([{ path: '', component: CompassPage }])\n\t],\n\tdeclarations: [CompassPage]\n})\nexport class CompassPageModule {}\n","export default \"#map {\\n  width: 100%;\\n  height: 400px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcGFzcy9DOlxcUHJvamVjdHNcXHB3YS1lbGVtZW50cy9zcmNcXGFwcFxcY29tcGFzc1xcY29tcGFzcy5wYWdlLnNjc3MiLCJzcmMvYXBwL2NvbXBhc3MvY29tcGFzcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQyxXQUFBO0VBQ0EsYUFBQTtBQ0NEIiwiZmlsZSI6InNyYy9hcHAvY29tcGFzcy9jb21wYXNzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNtYXAge1xyXG5cdHdpZHRoOiAxMDAlO1xyXG5cdGhlaWdodDogNDAwcHg7XHJcbn1cclxuXHJcbiIsIiNtYXAge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA0MDBweDtcbn0iXX0= */\"","import { Component, ElementRef, ViewChild } from '@angular/core'\nimport { AngularFireAuth } from '@angular/fire/auth'\nimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore'\nimport { Geolocation, GeolocationPosition, Modals } from '@capacitor/core'\nimport { MenuController } from '@ionic/angular'\nimport { bindCallback, Observable } from 'rxjs'\nimport { map } from 'rxjs/operators'\n\ndeclare var google\n\n@Component({\n\ttemplateUrl: 'compass.page.html',\n\tstyleUrls: ['compass.page.scss']\n})\nexport class CompassPage {\n\tposition: GeolocationPosition\n\n\t// Firebase Data\n\tlocations: Observable<any>\n\tlocationsCollection: AngularFirestoreCollection<any>\n\n\t// Map related\n\t@ViewChild('map', { static: false }) mapElement: ElementRef\n\tmap: any\n\tmarkers = []\n\n\t// Misc\n\tisTracking = false\n\twatch: string\n\tuser = null\n\n\t// LinePath\n\tlinePath\n\tpathCoordinates: { lat: number; lng: number }[] = []\n\n\tconstructor(\n\t\tprivate fbAuth: AngularFireAuth,\n\t\tprivate afs: AngularFirestore,\n\t\tprivate menu: MenuController\n\t) {\n\t\tthis.anonymousLogin()\n\t}\n\n\tionViewWillEnter() {\n\t\tthis.watchPosition().subscribe(\n\t\t\t(position: GeolocationPosition) => (this.position = position)\n\t\t)\n\n\t\tthis.initMap()\n\t\tthis.setTracker()\n\t}\n\n\topenMenu() {\n\t\tthis.menu.open('side-menu')\n\t}\n\n\t// formats calbackFn data as an Observable\n\twatchPosition(): Observable<any> {\n\t\treturn bindCallback(Geolocation.watchPosition)({})\n\t}\n\n\tprivate anonymousLogin() {\n\t\tthis.fbAuth.auth.signInAnonymously().then(res => {\n\t\t\tthis.user = res.user\n\n\t\t\tthis.locationsCollection = this.afs.collection(\n\t\t\t\t`locations/${this.user.uid}/track`,\n\t\t\t\tref => ref.orderBy('timestamp')\n\t\t\t)\n\n\t\t\t// Make sure we also get the Firebase item ID!\n\t\t\tthis.locations = this.locationsCollection.snapshotChanges().pipe(\n\t\t\t\tmap(actions =>\n\t\t\t\t\tactions.map(a => {\n\t\t\t\t\t\tconst data = a.payload.doc.data()\n\t\t\t\t\t\tconst id = a.payload.doc.id\n\t\t\t\t\t\treturn { id, ...data }\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t)\n\n\t\t\t// Update Map marker on every change\n\t\t\t/* \t\t\tthis.locations.subscribe(locations => {\n\t\t\t\tthis.updateMap(locations)\n\t\t\t}) */\n\t\t})\n\t}\n\n\t// Initialize a blank map\n\tprivate initMap() {\n\t\tconst mapOptions = {\n\t\t\t// center:  new google.maps.LatLng(38.7121152, -9.125888),\n\t\t\tzoom: 18,\n\t\t\tmapTypeId: google.maps.MapTypeId.ROADMAP\n\t\t}\n\n\t\tthis.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions)\n\n\t\tthis.watch = Geolocation.watchPosition({}, (position, err) => {\n\t\t\tif (position) {\n\t\t\t\tthis.map.setCenter({\n\t\t\t\t\tlat: position.coords.latitude,\n\t\t\t\t\tlng: position.coords.longitude\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tprivate setDrawer() {\n\t\tconst drawingManager = new google.maps.drawing.DrawingManager({\n\t\t\tdrawingMode: google.maps.drawing.OverlayType.MARKER,\n\t\t\tdrawingControl: true,\n\t\t\tdrawingControlOptions: {\n\t\t\t\tposition: google.maps.ControlPosition.TOP_CENTER,\n\t\t\t\tdrawingModes: ['marker', 'circle', 'polygon', 'polyline', 'rectangle']\n\t\t\t},\n\t\t\tmarkerOptions: {\n\t\t\t\ticon:\n\t\t\t\t\t'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png'\n\t\t\t},\n\t\t\tcircleOptions: {\n\t\t\t\tfillColor: '#ffff00',\n\t\t\t\tfillOpacity: 1,\n\t\t\t\tstrokeWeight: 5,\n\t\t\t\tclickable: false,\n\t\t\t\teditable: true,\n\t\t\t\tzIndex: 1\n\t\t\t}\n\t\t})\n\n\t\t// drawingManager.setMap(this.map)\n\t}\n\n\tprivate setTracker() {\n\t\t/* \t\tthis.pathCoordinates = [\n\t\t\t{ lat: 38.71, lng: -9.201 },\n\t\t\t{ lat: 38.735, lng: -9.245 },\n\t\t\t{ lat: 38.775, lng: -9.26 },\n\t\t\t{ lat: 38.805, lng: -9.31 },\n\t\t\t{ lat: 38.825, lng: -9.36 },\n\t\t\t{ lat: 38.865, lng: -9.385 }\n\t\t]\n */\n\t\tthis.linePath = new google.maps.Polyline({\n\t\t\t// path: this.pathCoordinates,\n\t\t\tgeodesic: true,\n\t\t\tstrokeColor: '#FF0000',\n\t\t\tstrokeOpacity: 1.0,\n\t\t\tstrokeWeight: 2\n\t\t})\n\n\t\tthis.linePath.setMap(this.map)\n\t}\n\n\t// Use Capacitor to track our geolocation\n\tstartTracking() {\n\t\tthis.isTracking = true\n\n\t\tthis.watch = Geolocation.watchPosition({}, (position, err) => {\n\t\t\tif (position) {\n\t\t\t\tthis.addNewLocation(\n\t\t\t\t\tposition.coords.latitude,\n\t\t\t\t\tposition.coords.longitude,\n\t\t\t\t\tposition.timestamp\n\t\t\t\t)\n\n\t\t\t\tthis.pathCoordinates = [\n\t\t\t\t\t...this.pathCoordinates,\n\t\t\t\t\t{ lat: position.coords.latitude, lng: position.coords.longitude }\n\t\t\t\t]\n\n\t\t\t\tthis.updateTracker()\n\t\t\t}\n\t\t})\n\t}\n\n\tprivate updateTracker() {\n\t\tthis.linePath.setPath(this.pathCoordinates)\n\n\t\t/* \t\tconst path = [\n\t\t\t{ lat: 38.71, lng: -9.201 },\n\t\t\t{ lat: 38.735, lng: -9.245 },\n\t\t\t{ lat: 38.775, lng: -9.26 },\n\t\t\t{ lat: 38.805, lng: -9.31 },\n\t\t\t{ lat: 38.825, lng: -9.36 },\n\t\t\t{ lat: 38.865, lng: -9.385 }\n\t\t]\n\n\t\tthis.linePath.setPath(path) */\n\t}\n\n\t// Unsubscribe from the geolocation watch using the initial ID\n\tstopTracking() {\n\t\tthis.pathCoordinates = []\n\n\t\tGeolocation.clearWatch({ id: this.watch }).then(() => {\n\t\t\tthis.isTracking = false\n\t\t})\n\t}\n\n\t// Save a new location to Firebase and center the map\n\taddNewLocation(lat, lng, timestamp) {\n\t\tthis.locationsCollection.add({\n\t\t\tlat,\n\t\t\tlng,\n\t\t\ttimestamp\n\t\t})\n\n\t\tconst position = new google.maps.LatLng(lat, lng)\n\t\tthis.map.setCenter(position)\n\t\tthis.map.setZoom(5)\n\t}\n\n\t// Delete a location from Firebase\n\tdeleteLocation(pos) {\n\t\tthis.locationsCollection.doc(pos.id).delete()\n\t}\n\n\t// Redraw all markers on the map\n\tprivate updateMap(locations) {\n\t\t// Remove all current marker\n\t\tthis.markers.map(marker => marker.setMap(null))\n\t\tthis.markers = []\n\n\t\tfor (const loc of locations) {\n\t\t\tconst latLng = new google.maps.LatLng(loc.lat, loc.lng)\n\n\t\t\tconst marker = new google.maps.Marker({\n\t\t\t\tmap: this.map,\n\t\t\t\tanimation: google.maps.Animation.DROP,\n\t\t\t\tposition: latLng\n\t\t\t})\n\t\t\tthis.markers.push(marker)\n\t\t}\n\t}\n\n\tshowAlert() {\n\t\tconst lat = this.position.coords.latitude\n\t\tconst lng = this.position.coords.longitude\n\n\t\tconst marker = new google.maps.Marker({\n\t\t\tmap: this.map,\n\t\t\tanimation: google.maps.Animation.DROP,\n\t\t\tposition: new google.maps.LatLng(\n\t\t\t\tthis.position.coords.latitude,\n\t\t\t\tthis.position.coords.longitude\n\t\t\t)\n\t\t})\n\n\t\tModals.alert({\n\t\t\ttitle: 'Your Location',\n\t\t\tmessage: `Lat: ${lat}, Lng: ${lng}`\n\t\t})\n\t}\n}\n"],"sourceRoot":"webpack:///"}