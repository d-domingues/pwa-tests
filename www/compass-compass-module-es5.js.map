{"version":3,"sources":["src/app/compass/compass.page.html","src/app/compass/compass.module.ts","src/app/compass/compass.page.scss","src/app/compass/compass.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n\\t<ion-toolbar>\\n\\t\\t<ion-buttons slot=\\\"start\\\">\\n\\t\\t\\t<ion-menu-button (click)=\\\"openMenu()\\\"></ion-menu-button>\\n\\t\\t</ion-buttons>\\n\\t\\t<ion-title>TRACKER</ion-title>\\n\\t</ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\t<div #map id=\\\"map\\\" [hidden]=\\\"!user\\\"></div>\\n\\t<br />\\n\\t<ion-button (click)=\\\"showAlert()\\\">WHERE AM I?</ion-button>\\n\\t<br />\\n\\n\\t<div *ngIf=\\\"user\\\">\\n\\t\\t<ion-item>\\n\\t\\t\\t<ion-label>User ID: {{ user.uid }}</ion-label>\\n\\t\\t</ion-item>\\n\\n\\t\\t<ion-button expand=\\\"block\\\" (click)=\\\"startTracking()\\\" *ngIf=\\\"!isTracking\\\">\\n\\t\\t\\t<ion-icon name=\\\"locate\\\" slot=\\\"start\\\"></ion-icon>\\n\\t\\t\\tStart Tracking\\n\\t\\t</ion-button>\\n\\n\\t\\t<ion-button expand=\\\"block\\\" (click)=\\\"stopTracking()\\\" *ngIf=\\\"isTracking\\\">\\n\\t\\t\\t<ion-icon name=\\\"hand\\\" slot=\\\"start\\\"></ion-icon>\\n\\t\\t\\tStop Tracking\\n\\t\\t</ion-button>\\n\\n\\t\\t<ion-list>\\n\\t\\t\\t<ion-item-sliding *ngFor=\\\"let pos of locations | async\\\">\\n\\t\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t\\t<ion-label text-wrap>\\n\\t\\t\\t\\t\\t\\tLat: {{ pos.lat }} Lng: {{ pos.lng }}\\n\\t\\t\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\t\\t\\t{{ pos.timestamp | date:'short' }}\\n\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t</ion-item>\\n\\n\\t\\t\\t\\t<ion-item-options side=\\\"start\\\">\\n\\t\\t\\t\\t\\t<ion-item-option color=\\\"danger\\\" (click)=\\\"deleteLocation(pos)\\\">\\n\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"trash\\\" slot=\\\"icon-only\\\"></ion-icon>\\n\\t\\t\\t\\t\\t</ion-item-option>\\n\\t\\t\\t\\t</ion-item-options>\\n\\t\\t\\t</ion-item-sliding>\\n\\t\\t</ion-list>\\n\\t</div>\\n</ion-content>\\n\"","import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { RouterModule } from '@angular/router'\nimport { IonicModule } from '@ionic/angular'\n\nimport { CompassPage } from './compass.page'\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tIonicModule,\n\t\tRouterModule.forChild([{ path: '', component: CompassPage }])\n\t],\n\tdeclarations: [CompassPage]\n})\nexport class CompassPageModule {}\n","export default \"#map {\\n  width: 100%;\\n  height: 400px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcGFzcy9DOlxcUHJvamVjdHNcXHB3YS1lbGVtZW50cy9zcmNcXGFwcFxcY29tcGFzc1xcY29tcGFzcy5wYWdlLnNjc3MiLCJzcmMvYXBwL2NvbXBhc3MvY29tcGFzcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQyxXQUFBO0VBQ0EsYUFBQTtBQ0NEIiwiZmlsZSI6InNyYy9hcHAvY29tcGFzcy9jb21wYXNzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNtYXAge1xyXG5cdHdpZHRoOiAxMDAlO1xyXG5cdGhlaWdodDogNDAwcHg7XHJcbn1cclxuXHJcbiIsIiNtYXAge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA0MDBweDtcbn0iXX0= */\"","import { Component, ElementRef, ViewChild } from '@angular/core'\nimport { AngularFireAuth } from '@angular/fire/auth'\nimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore'\nimport { Geolocation, GeolocationPosition, Modals } from '@capacitor/core'\nimport { MenuController } from '@ionic/angular'\nimport { bindCallback, Observable } from 'rxjs'\nimport { map } from 'rxjs/operators'\n\ndeclare var google\n\n@Component({\n\ttemplateUrl: 'compass.page.html',\n\tstyleUrls: ['compass.page.scss']\n})\nexport class CompassPage {\n\tposition: GeolocationPosition\n\n\t// Firebase Data\n\tlocations: Observable<any>\n\tlocationsCollection: AngularFirestoreCollection<any>\n\n\t// Map related\n\t@ViewChild('map', { static: false }) mapElement: ElementRef\n\tmap: any\n\tmarkers = []\n\n\t// Misc\n\tisTracking = false\n\twatch: string\n\tuser = null\n\n\t// LinePath\n\tlinePath\n\tpathCoordinates: { lat: number; lng: number }[] = []\n\n\tconstructor(\n\t\tprivate fbAuth: AngularFireAuth,\n\t\tprivate afs: AngularFirestore,\n\t\tprivate menu: MenuController\n\t) {\n\t\tthis.anonymousLogin()\n\t}\n\n\tionViewWillEnter() {\n\t\tthis.watchPosition().subscribe(\n\t\t\t(position: GeolocationPosition) => (this.position = position)\n\t\t)\n\n\t\tthis.initMap()\n\t\tthis.setTracker()\n\t}\n\n\topenMenu() {\n\t\tthis.menu.open('side-menu')\n\t}\n\n\t// formats calbackFn data as an Observable\n\twatchPosition(): Observable<any> {\n\t\treturn bindCallback(Geolocation.watchPosition)({})\n\t}\n\n\tprivate anonymousLogin() {\n\t\tthis.fbAuth.auth.signInAnonymously().then(res => {\n\t\t\tthis.user = res.user\n\n\t\t\tthis.locationsCollection = this.afs.collection(\n\t\t\t\t`locations/${this.user.uid}/track`,\n\t\t\t\tref => ref.orderBy('timestamp')\n\t\t\t)\n\n\t\t\t// Make sure we also get the Firebase item ID!\n\t\t\tthis.locations = this.locationsCollection.snapshotChanges().pipe(\n\t\t\t\tmap(actions =>\n\t\t\t\t\tactions.map(a => {\n\t\t\t\t\t\tconst data = a.payload.doc.data()\n\t\t\t\t\t\tconst id = a.payload.doc.id\n\t\t\t\t\t\treturn { id, ...data }\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t)\n\n\t\t\t// Update Map marker on every change\n\t\t\t/* \t\t\tthis.locations.subscribe(locations => {\n\t\t\t\tthis.updateMap(locations)\n\t\t\t}) */\n\t\t})\n\t}\n\n\t// Initialize a blank map\n\tprivate initMap() {\n\t\tconst mapOptions = {\n\t\t\t// center:  new google.maps.LatLng(38.7121152, -9.125888),\n\t\t\tzoom: 18,\n\t\t\tmapTypeId: google.maps.MapTypeId.ROADMAP\n\t\t}\n\n\t\tthis.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions)\n\n\t\tthis.watch = Geolocation.watchPosition({}, (position, err) => {\n\t\t\tif (position) {\n\t\t\t\tthis.map.setCenter({\n\t\t\t\t\tlat: position.coords.latitude,\n\t\t\t\t\tlng: position.coords.longitude\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tprivate setDrawer() {\n\t\tconst drawingManager = new google.maps.drawing.DrawingManager({\n\t\t\tdrawingMode: google.maps.drawing.OverlayType.MARKER,\n\t\t\tdrawingControl: true,\n\t\t\tdrawingControlOptions: {\n\t\t\t\tposition: google.maps.ControlPosition.TOP_CENTER,\n\t\t\t\tdrawingModes: ['marker', 'circle', 'polygon', 'polyline', 'rectangle']\n\t\t\t},\n\t\t\tmarkerOptions: {\n\t\t\t\ticon:\n\t\t\t\t\t'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png'\n\t\t\t},\n\t\t\tcircleOptions: {\n\t\t\t\tfillColor: '#ffff00',\n\t\t\t\tfillOpacity: 1,\n\t\t\t\tstrokeWeight: 5,\n\t\t\t\tclickable: false,\n\t\t\t\teditable: true,\n\t\t\t\tzIndex: 1\n\t\t\t}\n\t\t})\n\n\t\t// drawingManager.setMap(this.map)\n\t}\n\n\tprivate setTracker() {\n\t\t/* \t\tthis.pathCoordinates = [\n\t\t\t{ lat: 38.71, lng: -9.201 },\n\t\t\t{ lat: 38.735, lng: -9.245 },\n\t\t\t{ lat: 38.775, lng: -9.26 },\n\t\t\t{ lat: 38.805, lng: -9.31 },\n\t\t\t{ lat: 38.825, lng: -9.36 },\n\t\t\t{ lat: 38.865, lng: -9.385 }\n\t\t]\n */\n\t\tthis.linePath = new google.maps.Polyline({\n\t\t\t// path: this.pathCoordinates,\n\t\t\tgeodesic: true,\n\t\t\tstrokeColor: '#FF0000',\n\t\t\tstrokeOpacity: 1.0,\n\t\t\tstrokeWeight: 2\n\t\t})\n\n\t\tthis.linePath.setMap(this.map)\n\t}\n\n\t// Use Capacitor to track our geolocation\n\tstartTracking() {\n\t\tthis.isTracking = true\n\n\t\tthis.watch = Geolocation.watchPosition({}, (position, err) => {\n\t\t\tif (position) {\n\t\t\t\tthis.addNewLocation(\n\t\t\t\t\tposition.coords.latitude,\n\t\t\t\t\tposition.coords.longitude,\n\t\t\t\t\tposition.timestamp\n\t\t\t\t)\n\n\t\t\t\tthis.pathCoordinates = [\n\t\t\t\t\t...this.pathCoordinates,\n\t\t\t\t\t{ lat: position.coords.latitude, lng: position.coords.longitude }\n\t\t\t\t]\n\n\t\t\t\tthis.updateTracker()\n\t\t\t}\n\t\t})\n\t}\n\n\tprivate updateTracker() {\n\t\tthis.linePath.setPath(this.pathCoordinates)\n\n\t\t/* \t\tconst path = [\n\t\t\t{ lat: 38.71, lng: -9.201 },\n\t\t\t{ lat: 38.735, lng: -9.245 },\n\t\t\t{ lat: 38.775, lng: -9.26 },\n\t\t\t{ lat: 38.805, lng: -9.31 },\n\t\t\t{ lat: 38.825, lng: -9.36 },\n\t\t\t{ lat: 38.865, lng: -9.385 }\n\t\t]\n\n\t\tthis.linePath.setPath(path) */\n\t}\n\n\t// Unsubscribe from the geolocation watch using the initial ID\n\tstopTracking() {\n\t\tthis.pathCoordinates = []\n\n\t\tGeolocation.clearWatch({ id: this.watch }).then(() => {\n\t\t\tthis.isTracking = false\n\t\t})\n\t}\n\n\t// Save a new location to Firebase and center the map\n\taddNewLocation(lat, lng, timestamp) {\n\t\tthis.locationsCollection.add({\n\t\t\tlat,\n\t\t\tlng,\n\t\t\ttimestamp\n\t\t})\n\n\t\tconst position = new google.maps.LatLng(lat, lng)\n\t\tthis.map.setCenter(position)\n\t\tthis.map.setZoom(5)\n\t}\n\n\t// Delete a location from Firebase\n\tdeleteLocation(pos) {\n\t\tthis.locationsCollection.doc(pos.id).delete()\n\t}\n\n\t// Redraw all markers on the map\n\tprivate updateMap(locations) {\n\t\t// Remove all current marker\n\t\tthis.markers.map(marker => marker.setMap(null))\n\t\tthis.markers = []\n\n\t\tfor (const loc of locations) {\n\t\t\tconst latLng = new google.maps.LatLng(loc.lat, loc.lng)\n\n\t\t\tconst marker = new google.maps.Marker({\n\t\t\t\tmap: this.map,\n\t\t\t\tanimation: google.maps.Animation.DROP,\n\t\t\t\tposition: latLng\n\t\t\t})\n\t\t\tthis.markers.push(marker)\n\t\t}\n\t}\n\n\tshowAlert() {\n\t\tconst lat = this.position.coords.latitude\n\t\tconst lng = this.position.coords.longitude\n\n\t\tconst marker = new google.maps.Marker({\n\t\t\tmap: this.map,\n\t\t\tanimation: google.maps.Animation.DROP,\n\t\t\tposition: new google.maps.LatLng(\n\t\t\t\tthis.position.coords.latitude,\n\t\t\t\tthis.position.coords.longitude\n\t\t\t)\n\t\t})\n\n\t\tModals.alert({\n\t\t\ttitle: 'Your Location',\n\t\t\tmessage: `Lat: ${lat}, Lng: ${lng}`\n\t\t})\n\t}\n}\n"],"sourceRoot":"webpack:///","file":"compass-compass-module-es5.js"}